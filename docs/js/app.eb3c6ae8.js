(function(t){function e(e){for(var n,o,a=e[0],l=e[1],c=e[2],d=0,m=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/list/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"1a45":function(t,e,i){},"206d":function(t,e,i){"use strict";i("4413")},3934:function(t,e,i){"use strict";i("8b58")},4413:function(t,e,i){},"5c0b":function(t,e,i){"use strict";i("9c0c")},"795a":function(t,e,i){"use strict";i("8253")},8253:function(t,e,i){},"8b58":function(t,e,i){},"9c0c":function(t,e,i){},abcb:function(t,e,i){"use strict";i("1a45")},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],o=(i("5c0b"),i("2877")),a={},l=Object(o["a"])(a,s,r,!1,null,null,null),c=l.exports,u=i("8c4f"),d=i("2f62"),m=(i("e9c4"),i("4de4"),i("d3b7"),i("d81d"),i("c740"),i("a434"),i("4e82"),i("b0c0"),{AUTH:function(t){t.isAuthorized=!0},ADD_ITEM:function(t,e){t.list.push(e),localStorage.setItem("list",JSON.stringify(t.list))},REMOVE_ITEM:function(t,e){t.list=t.list.filter((function(t){return t.id!==e})),t.list=t.list.map((function(t,e){return t.id=e+1,t})),localStorage.setItem("list",JSON.stringify(t.list))},EDIT_ITEM:function(t,e){var i=t.list.findIndex((function(t){return t.id===e.id}));i>-1&&t.list.splice(i,1,e),localStorage.setItem("list",JSON.stringify(t.list))},SORT_ASCENDING:function(t){t.list.sort((function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return i<n?-1:i>n?1:0}))},SORT_DESCENDING:function(t){t.list.sort((function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return i<n?1:i>n?-1:0}))}}),f=m,p=i("2909"),_={isAuthorized:function(t){return t.isAuthorized},list:function(t){return t.list},maxId:function(t){var e=t.list.map((function(t){return t.id}));return e.length?Math.max.apply(Math,Object(p["a"])(e)):0}},v=_;n["a"].use(d["a"]);var h={state:{isAuthorized:!1,list:JSON.parse(localStorage.getItem("list")||"[]")},getters:v,mutations:f},b=new d["a"].Store(h),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-page"},[i("h1",{staticClass:"list-page__title-h-1 title-h-1"},[t._v("Список")]),i("AppList",{staticClass:"list-page__list"}),i("router-link",{attrs:{to:"/create"}},[t._v("Создать запись")])],1)},O=[],C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list"},[i("li",{staticClass:"list__item"},[i("div",{staticClass:"list__cell"},[t._v("id")]),i("div",{staticClass:"list__cell list__cell--name",attrs:{title:"Сортировать"},on:{click:t.sort}},[t._v(" Наименование ")]),i("div",{staticClass:"list__cell"},[t._v("Описание")]),i("div",{staticClass:"list__cell"},[t._v("Заметка")])]),t._l(t.list,(function(e){return i("ListItem",{key:e.id,attrs:{item:e},on:{remove:function(i){return t.remove(e.id)}}})}))],2)},j=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"list__item"},[i("div",{staticClass:"list__cell"},[t._v(t._s(t.item.id))]),i("div",{staticClass:"list__cell"},[t._v(t._s(t.item.name))]),i("div",{staticClass:"list__cell"},[t._v(t._s(t.item.description))]),i("div",{staticClass:"list__cell"},[t._v(t._s(t.item.note))]),i("div",{staticClass:"list__cell"},[i("router-link",{attrs:{to:{name:"Create",params:{itemEdit:t.item}}}},[t._v("Редактировать")])],1),i("div",{staticClass:"list__cell"},[i("button",{staticClass:"form__button button",on:{click:function(e){return t.$emit("remove")}}},[t._v("Удалить")])])])},E=[],y=n["a"].extend({name:"ListItem",props:{item:{type:Object,required:!0,default:function(){return{}}}}}),I=y,w=Object(o["a"])(I,S,E,!1,null,null,null),x=w.exports,D=n["a"].extend({name:"AppList",components:{ListItem:x},data:function(){return{isSortAscending:!1,isSortDescending:!0}},computed:Object.assign({},Object(d["b"])(["list"])),methods:Object.assign(Object.assign({},Object(d["c"])(["REMOVE_ITEM","SORT_ASCENDING","SORT_DESCENDING"])),{remove:function(t){this.REMOVE_ITEM(t)},sort:function(){if(this.list.length){if(this.isSortDescending)return this.SORT_ASCENDING(),this.isSortAscending=!0,void(this.isSortDescending=!1);this.isSortAscending&&(this.SORT_DESCENDING(),this.isSortDescending=!0,this.isSortAscending=!1)}}})}),T=D,A=(i("795a"),Object(o["a"])(T,C,j,!1,null,null,null)),N=A.exports,$=n["a"].extend({name:"List",components:{AppList:N}}),k=$,M=(i("abcb"),Object(o["a"])(k,g,O,!1,null,null,null)),P=M.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create"},[i("div",{staticClass:"create__top"},[i("span",{staticClass:"create__back",on:{click:t.goBack}},[t._v("←")]),i("h1",{staticClass:"create__title-h-1 title-h-1"},[t._v(t._s(t.itemEdit?"Редактирование":"Создание"))])]),i("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit;return[i("form",{staticClass:"create__form form",on:{submit:function(e){return e.preventDefault(),n(t.action)}}},[i("ValidationProvider",{staticClass:"form__field",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.item.name,expression:"item.name",modifiers:{trim:!0}}],staticClass:"form__input",attrs:{placeholder:"Наименование"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"form__error"},[t._v(t._s(n[0]))])]}}],null,!0)}),i("ValidationProvider",{staticClass:"form__field",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.item.description,expression:"item.description",modifiers:{trim:!0}}],staticClass:"form__input",attrs:{placeholder:"Описание"},domProps:{value:t.item.description},on:{input:function(e){e.target.composing||t.$set(t.item,"description",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"form__error"},[t._v(t._s(n[0]))])]}}],null,!0)}),i("span",{staticClass:"form__field"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.item.note,expression:"item.note",modifiers:{trim:!0}}],staticClass:"form__input",attrs:{placeholder:"Заметка"},domProps:{value:t.item.note},on:{input:function(e){e.target.composing||t.$set(t.item,"note",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("button",{staticClass:"form__button button"},[t._v(t._s(t.itemEdit?"Редактировать":"Создать"))])],1)]}}])})],1)},R=[],V=i("7bb1"),q=i("4c93");Object(V["c"])("required",Object.assign(Object.assign({},q["b"]),{message:"Поле обязательное для заполнения"}));var U=n["a"].extend({name:"Create",props:{itemEdit:{type:Object,required:!1}},components:{ValidationProvider:V["b"],ValidationObserver:V["a"]},data:function(){return{item:{name:null,description:null,note:null,id:null}}},computed:Object.assign(Object.assign({},Object(d["b"])(["maxId"])),{form:function(){return this.$refs.form}}),created:function(){this.itemEdit&&(this.item=Object.assign({},this.itemEdit))},methods:Object.assign(Object.assign({},Object(d["c"])(["ADD_ITEM","EDIT_ITEM"])),{action:function(){this.itemEdit?this.editItem():this.addItem()},addItem:function(){this.item.id=this.maxId+1,this.ADD_ITEM(this.item),this.item={name:null,description:null,note:null,id:null},this.form.reset()},editItem:function(){this.EDIT_ITEM(this.item),this.$router.push("/")},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/list")}})}),G=U,J=(i("3934"),Object(o["a"])(G,L,R,!1,null,null,null)),z=J.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("h1",{staticClass:"login__title-h-1 title-h-1"},[t._v("Вход")]),i("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit;return[i("form",{staticClass:"login__form form",on:{submit:function(e){return e.preventDefault(),n(t.logIn)}}},[i("ValidationProvider",{staticClass:"form__field",attrs:{rules:"is:admin|required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.reset;return[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],staticClass:"form__input",attrs:{type:"text",name:"login",placeholder:"Логин"},domProps:{value:t.login},on:{input:[function(e){e.target.composing||(t.login=e.target.value.trim())},s],focus:s,blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"form__error"},[t._v(t._s(n[0]))])]}}],null,!0)}),i("ValidationProvider",{staticClass:"form__field",attrs:{rules:"is:12345|required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.reset;return[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form__input",attrs:{type:"password",name:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value.trim())},s],focus:s,blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"form__error"},[t._v(t._s(n[0]))])]}}],null,!0)}),i("button",{staticClass:"form__button button"},[t._v("Войти")])],1)]}}])})],1)},H=[];Object(V["c"])("is",Object.assign(Object.assign({},q["a"]),{message:function(t){return"Не правильный ".concat(t)}})),Object(V["c"])("required",Object.assign(Object.assign({},q["b"]),{message:"Поле обязательное для заполнения"}));var F=n["a"].extend({name:"Login",components:{ValidationProvider:V["b"],ValidationObserver:V["a"]},data:function(){return{login:"admin",password:"12345"}},methods:Object.assign(Object.assign({},Object(d["c"])(["AUTH"])),{logIn:function(){this.AUTH(),this.$router.push("/")}})}),K=F,Q=(i("206d"),Object(o["a"])(K,B,H,!1,null,null,null)),W=Q.exports;n["a"].use(u["a"]);var X=[{path:"/",name:"List",component:P,meta:{authRequired:!0}},{path:"/create",name:"Create",component:z,props:!0,meta:{authRequired:!0}},{path:"/login",name:"Login",component:W,meta:{authRequired:!1}}],Y=new u["a"]({mode:"history",base:"/list/",routes:X,scrollBehavior:function(t,e,i){return i||{x:0,y:0}}});Y.beforeEach((function(t,e,i){var n;(null===(n=t.meta)||void 0===n?void 0:n.authRequired)?b.getters.isAuthorized?i():i("/login"):i()}));var Z=Y;n["a"].config.productionTip=!1,new n["a"]({router:Z,store:b,render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.eb3c6ae8.js.map